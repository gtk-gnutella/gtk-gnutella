<!-- $Id$ -->
<h1>FAQ</h1>

<!--
  **
  ** 目次
  **
  -->

<h2>一般</h2>
<ul>
  <li><a href="#general0">それはそうとして Gnutella って何ですか？</a></li>
  <li><a href="#general-gtkg">「GTKG」って何ですか？</a></li>
  <li><a href="#general1">たくさんの帯域幅を使い切ってしまいます！</a></li>
  <li><a href="#general-ultrapeer">ウルトラピアとリーフピアって何ですか？</a></li>
  <li><a href="#general-firewall">なぜ gtk-gnutella は実際は違う時でも私のマシンがファイアウォール内にあると言ってくるのですか？</a>
  </li>
</ul>

<h2>ソースからのビルド</h2>
<ul>
  <li><a href="#build1">
    Configure の最中に色々聞かれるのですが、どうすれば止めさせられますか？</a>
  </li>
</ul>

<h2>Gnutella 接続</h2>
<ul>
  <li><a href="#gnet0">丁度良い接続件数はどれ位ですか？</a></li>
  <li><a href="#gnet1">ファイアウォールのポートを転送する必要はありますか？</a></li>
  <li><a href="#gnet-forward-howto">どのようにポート転送の設定をするのですか？</a></li>
  <li><a href="#gnet-udp">gtk-gnutella は UDP を利用しますか？</a></li>
  <li><a href="#gnet2">「[FC]」は何を意味するんですか？</a></li>
  <li><a href="#gnet3">なぜアップロードしている時に Gnet 接続が途切れていってしまうのですか？</a></li>
  <li><a href="#gnet4">フラッグ欄にある英字の意味は何ですか？</a></li>
  <li><a href="#gnet-user-agent">エージェント名の先頭につく「!」の意味は何ですか？</a></li>
  <!-- FIXME: out-of-dated -->
  <li><a href="#gnet5">「有害なバージョンが禁止されました、アップグレードが必要です」というステータス文の意味は何ですか？</a></li>
  <!-- FIXME: out-of-dated -->
  <li><a href="#gnet6">「バージョンが古くなっています、アップグレードして下さい」というステータス文の意味は何ですか？</a></li>
  <li><a href="#gnet7">なぜ HTTP プロキシが働かないのですか？</a></li>
  <li><a href="#gnet8">タイムアウトまでの時間を長くするにはどうすればいいですか？</a></li>
  <li><a href="#gnet-auto">自動モードはどのようにウルトラモードとリーフモードを決めているのですか？</a></li>
</ul>

<h2>検索</h2>
<ul>
  <li><a href="#search0">どうすればもっと多くの検索結果を得られますか？</a></li>
  <li><a href="#search3">どうすれば SHA1 が無いファイルを検索結果から除外できますか？</a></li>
  <li><a href="#search-entry">検索エントリーボックスはどこへ行ったのですか？</a></li>
  <li><a href="#search-passive">「受動」検索って何ですか？</a></li>
  <li><a href="#encoding">なぜ文字化けしている検索結果があるのですか？</a></li>
</ul>

<h2>ダウンロード</h2>
<ul>
  <li><a href="#down0">「リクエストされた [SHA1|名前 &amp; サイズ] を無視します」というステータス文の意味は何ですか？</a></li>
  <li><a href="#down1">「サーバーに URN がありません」というステータス文の意味は何ですか？</a></li>
  <li><a href="#down2">なぜ同じファイルが何回もダウンロードされるのですか？</a></li>
  <li><a href="#down3">「多元ダウンロード (Swarming)」って何ですか？</a></li>
  <li><a href="#down4">「チャンク」って何ですか？</a></li>
  <li><a href="#down5">「ダウンロードメッシュ」って何ですか？</a></li>
  <li><a href="#down_push">「PUSH リクエスト」って何ですか？</a></li>
  <li><a href="#down7">なぜファイル名に .OK が付くのですか？</a></li>
  <li><a href="#down8">どうしてもダウンロードできないファイルがあります！</a></li>
  <li><a href="#down9">ダウンロードペインで、文字色が黒ではなく灰色になる場合は何を意味するんですか？</a></li>
  <li><a href="#filenames">ファイル名エンコーディングって何ですか？</a></li>
</ul>

<h2>アップロード</h2>
<ul>
  <li><a href="#up0">「正規値」って何ですか？</a></li>
</ul>

<h2>GTK+ 2.x</h2>
<ul>
  <li><a href="#gtk2_slow">GTK2 版の gtk-gnutella がとても遅いんですが。</a></li>
</ul>

<!--
  **
  ** 質問およびその答えが以下に続きます
  **
  -->

<hr>

<h2>一般</h2>

<h3><a name="general0">それはそうとして Gnutella って何ですか？</a></h3>
<p>
  Gnutella はピアからピアへの情報交換を行う分散型ネットワークです。このネットワークを使うことで、今のところはどんな種類のファイルでも公表したりダウンロードすることができます。最近の Gnutella プロトコルに関する公式文書は <a href="http://www.the-gdf.org/">GDF wiki</a> にあります。より詳しい情報を得るには <a href="http://www.wikipedia.org/wiki/Gnutella">Wikipedia での Gnutella の定義</a>あるいは infoAnarchy wiki にある <a href="http://www.infoanarchy.org/wiki/wiki.pl?Gnutella">Gnutella の定義</a>を御覧下さい。
</p>

<h3><a name="general-gtkg">「GTKG」って何ですか？</a></h3>
<p>
  私達はよく gtk-gnutella を GTKG または gtkg と言います (なぜなら短いからです)。GTK は gtk-gnutella に使用されているグラフィカル・ツールキットの GTK+ から来ています。
</p>

<h3><a name="general1">たくさんの帯域幅を使い切ってしまいます！</a></h3>
<p>
  あなたが遅い回線 (モデム) の利用者なら、今のところ以下の事柄のどれか一つか二つを試してみることができます:
</p>
<ul>
  <li>
    リーフピアとして実行して下さい。設定パネルの<em>Gnutella ネット</em>以下にある「設定するピアモード」でピアモードの設定を変更します。ステータスバーにあるアイコン (GTK2 版ではウィンドウの右上にあります) は、あなたがどのモードで実行しているかを示しています。
  </li>
  <li>
    あなたの Gnet 接続の件数を制限して下さい。
  </li>
  <li>
    内側への接続を受信できるなら、<em>ファイル-&gt;環境設定-&gt;帯域幅</em>で<em>圧縮転送を優先する</em>を有効にして下さい。
  </li>
  <li>
    たとえ接続が遅くともファイルを共有することは依然として重要です。<a href="#down3">多元ダウンロード (Swarming)</a> を使うことで他の人はあなたからファイルの小さなチャンク (部分ファイル) を取得する事ができ、遅い接続であっても Gnet 上の多くの送信元によってこのチャンクは増やされます、これは多大な貢献になります。56K モデムなら、あなたの帯域幅の大部分をダウンロード用にしておけるように、<em>HTTP トラフィックの帯域幅制限</em>で<em>累積アップロード速度</em>を 1K/秒 に設定することができます。
  </li>
  <li>
    ダウンロードが始まった後で GUI の左下にあるボタンを押して下さい。これで Gnutella ネットワークから切り離されます。しかしこのように<em>しない</em>ことを強く勧めます。ネットからこれ以上の代替送信元を取得できなくなりますし、他の人があなたのファイルを検索できなくなってしまうからです。
  </li>
</ul>

<h3><a name="general-ultrapeer">ウルトラピアとリーフピアって何ですか？</a></h3>
<p>
  バージョン 0.92 以降、gtk-gnutella には<a href="?page=features"><em>ウルトラピア</em></a>および<em>リーフピア</em>が実装されています。これは Gnutella ネットワークにおいてサーバントをリーフピアとウルトラピアに分けます。リーフピアはただウルトラピアに接続するだけなのに対し、ウルトラピアは多くのリーフピアと他の少しのウルトラピアに接続します (<a href="#gnet0">丁度良い接続件数はどれ位ですか？</a> を御覧下さい)。
</p>
<p>
  ウルトラピアはファイアウォール内にあってはいけません、また長期の稼働時間 (二時間以上) が見込まれます。Gnet に寄与するだけ十分な余剰帯域幅があることも期待されています。ウルトラピアは接続しているリーフピアからのクエリーを転送し、リーフピアは接続しているウルトラピアに <a href="?page=features">QRP</a> テーブルをアップロードします。この QRP テーブルにはリーフに共有されているファイルに一致するキーワードのハッシュ値が含まれています。あるウルトラピアがクエリー経路設定テーブルにあるヒットを受け取ると、そのクエリーを対応するリーフピアに中継します。この結果、共有およびダウンロードのための帯域幅を解放しつつ、それぞれのリーフピアに対して非常に低い Gnet トラフィックが発生します。ウルトラピアはファイアウォール内にあるリーフピアに対して <a href="?page=features">PUSH プロキシ</a>としても振る舞えます。
</p>

<h3><a name="general-firewall">なぜ gtk-gnutella は実際は違う時でも私のマシンがファイアウォール内にあると言ってくるのですか？</a>
</h3>

<p>
  gtk-gnutella は外部からあなたに到達できるかどうかを判別するために、内側に入って来る接続を受信する必要があります。その時までは、設定された待ち受け TCP ポートを塞いでしまうファイアウォールがあるものと見なされます。この検出を早くしたいのでしたら、ウェブブラウザー、telnet またはそれに似たものを使用して外側からその待ち受けポートに接続して下さい。この接続が拒否されたり破棄されるなら、ポートを塞ぐファイアウォール、あるいは誤って設定された NAT, それに類似するものが原因になって、多分あなたは実際に到達不能になっています。一部の ISP は標準の Gnutella ポート (6346) を塞いでいますので、異なる待ち受け TCP ポートを試してみるとよいかもしれません。併せて <a href="#gnet1"><q>ファイアウォールのポートを転送する必要がありますか？</q></a> も御覧下さい。
</p>

<h2>ソースからのビルド</h2>

<h3><a name="build1">Configure の最中に色々聞かれるのですが、どうすれば止めさせられますか？</a></h3>
<p>
  標準の設定を利用するには以下のやり方で <code>Configure</code> スクリプトを実行できます。そうすると autoconf で作成した以前の <code>configure</code> スクリプトが昔やったように振る舞います。
</p>
<p>
  <kbd>$ ./Configure -ders</kbd>
</p>
<p>
  コマンド行でコンパイル・オプションをセットすることもできます。ここにある例では gtk-gnutella は以下のように設定されます。
</p>
<ul>
  <li>
    個別設定を受け付けさせます (<code>-O</code>)。これなしだと、以下の全てのパラメータが意味の無いものになってしまいます。
  </li>
  <li>
     GTK1 フロントエンドを使用して遠隔シェルを有効にします (<code>-D gtkversion=1 -D remotectrl=y</code>)。
  </li>
  <li>
    MMX をサポートするペンティアム用にコンパイルします (<code>-Dccflags="-march=pentium -mmmx"</code>)。
  </li>
  <li>
    コンパイラによる最適化をすべて無効にして、バグ解析情報を埋め込みます (<code>-Doptimize="-g -O0"</code>)。
  </li>
</ul>
<p>
  <code>$ ./Configure -ders -O -D gtkversion=1 -D remotectrl=y -Dccflags="-march=pentium -mmmx" -Doptimize="-g -O0"</code>
</p>

<h2>Gnutella 接続</h2>

<h3><a name="gnet0">丁度良い接続件数はどれ位ですか？</a></h3>
<p>
  <a href="#general-ultrapeer">リーフ</a>モードでは 3 基のウルトラピアが、<a href="#general-ultrapeer">ウルトラピア</a>モードでは 32/40 (最小/最大) 基のウルトラピアと 100 基のリーフピアになります。実際の数は利用可能な帯域幅によるはずです。「圧縮転送を優先する」を有効にしている場合は使用される帯域幅はもっと少なくなるでしょう。Gnet 接続にすべての帯域幅を使い切ってしまうのはよくありません。特に非対称ケーブル/DSL では外部への大量のトラフィックを発生させてしまうことで (TCP/IP の問題)、内へ入って来るトラフィックが簡単に枯渇してしまいます。Gnet 接続には外への帯域幅のおおよそ半分を使用して下さい。
</p>
<p>
  バージョン 0.95 で「高出次数 (High OutDegree)」が用いられるようになりましたので、他のウルトラピアに対して 32/40 件の接続を確保すべきでしょう。利用するリーフ接続の件数はあなたの帯域幅および CPU の速度によります。ウルトラピアは最低 20 基のリーフピアに接続すべきですが、100 基以上に接続していることが非常に望まれます。GUI の左下の方にある帯域幅のオドメーターを観察して、CPU の使用率を追い続けるためにコマンド top を使用して下さい。帯域幅およびこの目的のために費してもよいと思うシステム・リソースの最大値に達するまでリーフ接続の件数を上げていって下さい。
</p>
<p>
  <em>ファイル-&gt;環境設定-&gt;帯域幅</em>で gtk-gnutella が使う帯域幅をさらに微調整できるでしょう。
</p>

<h3><a name="gnet1">ファイアウォールのポートを転送する必要はありますか？</a></h3>
<p>
  gtk-gnutella を動作させるためにいずれかのポートを転送する必要はありませんが、これを行えば断然よくなります。あなたがファイアウォールの内側にいると見なされる場合、<a href="#down_push">"PUSH"</a> を必要とする検索結果はいずれも表示されません。と言うのも、いずれにせよこれらのファイルはダウンロードできないからです。<br>
  あなたに直接接続できない時であっても、他の人は <a href="#down_push">PUSH リクエスト</a>を利用することであなたのピアからファイルをダウンロードすることができます。<br>
  <em>ファイル-&gt;環境設定-&gt;ネットワーク</em>にある<em>待受ポート</em>で gtk-gnutella の待ち受けポートを設定できます。
</p>

<h3><a name="gnet-forward-howto">どのようにポート転送の設定をするのですか？</a></h3>
<p>
  <a href="http://www.portforward.com/routers.htm">http://www.portforward.com/routers.htm</a> に大半の有名なルーターの注意書きがあります。ポートの転送を確認するには <a href="http://www.canyouseeme.org/">http://www.canyouseeme.org/</a> を試してみて下さい。
</p>

<h3><a name="gnet-udp">gtk-gnutella は UDP を利用しますか？</a></h3>
<p>
  はい、バージョン 0.95 の gtk-gnutella から <a href="http://www.faqs.org/rfcs/rfc793.html">TCP</a> に加えて <a href="http://www.faqs.org/rfcs/rfc768.html">UDP</a> も利用できます。
</p>

<h3><a name="gnet2">「[FC]」は何を意味するんですか？</a></h3>
<p>
  <em>FC</em> は「Flow Control (フロー制御)」を意味します。一般的に、あなたに接続しているサーバントがフロー制御しないことを確認した方がよいでしょう。<em>情報</em>欄にある文字列の終わり (このウィンドウの下にスクロールバーを表示させるために、ウィンドウの右端の向こうまでドラッグする必要があるかもしれません) に <em>[FC]</em> の表示が後に続いていないか見て下さい。または<a href="#gnet4">フラッグ</a>欄で状態が FC になっているかを見て下さい。経験的に言うと、一時にフロー制御しているピアが一基以上ある場合は Gnet に提供するだけ十分な外側への帯域幅を確保できません、つまりネットワークに危害を加えています: 接続件数を減らすか、オプション<em>圧縮転送を優先する</em>を有効にするか、あるいは外側への制限帯域幅を上げるかのどれかを行って下さい。
</p>

<h3><a name="gnet3">なぜアップロードしている時に Gnet 接続が途切れていってしまうのですか？</a></h3>
<p>
  帯域幅の制限を掛けてみて下さい。これでも駄目なら恐らくプロバイダが Gnutella トラフィックを絞っています。gtk-gnutella のネットワーク設定で Gnutella のポートを変更してみて下さい。
</p>

<h3><a name="gnet4">フラッグ欄にあるこの英字の意味は何ですか？</a></h3>
<p>
  ここで接続の設定の一部とその種類を見られます。プロキシ経由での PUSH は 0.92.1c とそれ以降のバージョンで実装されています。
</p>
<pre>
  012345678AB (オフセット)
  NIrwqxZPFhE
  ||||||||||+ TLS トンネル接続であることを示します
  |||||||||+- Hops Flow が発生しているか (<strong>h</strong>)、あるいは全クエリーがフロー制御されています (<strong>f</strong>)
  ||||||||+-- フロー制御 (<strong>F</strong>)、またはキューに未処理のデータ (<strong>d</strong>) があることを示します
  |||||||+--- こちらが PUSH プロキシである (<strong>P</strong>) か、あちらが PUSH プロキシである (<strong>p</strong>) かを示します
  ||||||+---- <strong>R</strong>x (受信), <strong>T</strong>x (送信) または両方 (<strong>Z</strong>) が圧縮されているかどうかを示します
  |||||+----- 遠隔ウルトラピアに Last-Hop QRT を送信したか (<strong>X</strong>)、それを送信している (<strong>x</strong>) かを示します
  ||||+------ <strong>Q</strong>RT を送信/受信したか、あるいはそれを送信/受信している (<strong>q</strong>) ことを示します
  |||+------- ピアが <strong>w</strong>ritable (書込可能) かどうかを示します
  ||+-------- ピアが <strong>r</strong>eadable (読込可能) かどうかを示します
  |+--------- 接続の種類です: (<strong>I</strong>ncoming, <strong>O</strong>utgoing, <strong>P</strong>onging)
  +---------- ピアモードです: ウルトラ (<strong>U</strong>ltra)、リーフ (<strong>L</strong>eaf) あるいはレガシー (別名 <strong>N</strong>ormal)
</pre>

<h3><a name="gnet-user-agent">エージェント名の先頭につく「!」の意味は何ですか？</a></h3>
<p>
  これはエージェント名が<em>恐らく</em>偽物であることを示しますが、両サイドの不正なシステム時計によって引き起こされた誤検出の可能性もあります。
</p>

<!-- FIXME: out-of-dated -->
<h3><a name="gnet5">「有害なバージョンが禁止されました、アップグレードが必要です」というステータス文の意味は何ですか？</a></h3>
<p>
  時折、サーバントにバグがあったり Gnet に対して有害な振る舞いをしてしまう事が明らかになります。例えば gtk-gnutella 0.92b には <a href="index.php?page=gwebcache">GWebCache システム</a>を頻繁にアクセスしてしまう (hammering) 桁外れなクエリーを生成するバグがあります。このような差し止めは例外です、通常は特定のバージョンが制約されてサーバントの実行者がその差し止めに関して知らされます。
</p>

<!-- FIXME: out-of-dated -->
<h3><a name="gnet6">「バージョンが古くなっています、アップグレードして下さい」というステータス文の意味は何ですか？</a></h3>
<p>
  一年以上前のバージョンの gtk-gnutella は使用が禁止されます、というのも、これらは急速に進化する Gnutella ネットワークの健全性とその規模の拡大にとって大切な機能がないからです。ちなみに開発版は 90 日後に差し止められます。
</p>

<h3><a name="gnet7">なぜ HTTP プロキシが働かないのですか？</a></h3>
<p>
  Gnutella の接続では通常の <code>GET</code> 方式が働きません、このため HTTP プロキシが <code>CONNECT</code> 方式をサポートしている必要があります。これは HTTP プロトコルを拡張したもので主に SQUID プロキシがサポートしています。あなたのプロバイダがセキュリティ上の問題とするかもしれないので、しばしば使えなくされることもあります。今のところプロキシのサポート - SOCKS も含めて - はあまりよいものではありません。開発者達はプロキシを使いませんが、もしあなたがこれを何とかできると思うなら、パッチは歓迎します。
</p>

<h3><a name="gnet8">タイムアウトまでの時間を長くするにはどうすればいいですか？</a></h3>
<p>
  インターネット接続の待ち時間が長くてお困りなら、タイムアウトする時間を長くするとよいかもしれません。<em>ファイル-&gt;環境設定-&gt;インターフェイス</em>で<em>上級者モード</em>を有効にして下さい。<em>ファイル-&gt;環境設定-&gt;Gnutella ネット</em> により多くの設定項目が表示されるようになります。
</p>

<h3><a name="gnet-auto">自動モードはどのようにウルトラモードとリーフモードを決めているのですか？</a></h3>
<p>
  <a href="#general-ultrapeer">ウルトラモード</a>になるためには、以下の条件が満たされている必要があります:
</p>
<ol>
  <li>
    外側への利用可能な帯域幅が 8192 バイト/秒以上ある必要があります。
  </li>
  <li>
    帯域幅の管理を行っているなら、リーフピアは外へ出て行くすべての HTTP 帯域幅を (必要に応じて) 取り込めるように設定されていなくてはいけません。
  </li>
  <li>
    外へ出て行く Gnet の帯域幅を制限しているなら、(ウルトラピアやレガシーピアへの) Gnet 接続毎に最低でも 256バイト/秒の帯域幅がある必要があります。
  </li>
  <li>
    全体として言えば、リーフ毎に 32バイト/秒プラス Gnet 接続毎に 256バイト/秒の帯域幅が利用できなければいけません。
  </li>
</ol>

<h2>検索</h2>

<h3><a name="search0">どうすればもっと多くの検索結果を得られますか？</a></h3>
<p>
  あなたが得る検索結果の数は他の人があなたに接続可能かどうかという事 (<a href="#gnet1">ポート転送</a>の項を御覧下さい) と他のホストへの<a href="#gnet0">接続件数</a>にかなりのところ依存します。
</p>

<h3><a name="search3">どうすれば SHA1 が無いファイルを検索結果から除外できますか？</a></h3>
<p>
  SHA1 のない検索結果上でマウスの右ボタンをクリックしてメニューから「検索結果を破棄-&gt;同じ URN:SHA1 で」を選択して下さい。これでこの SHA1 - この場合は「なし」です - を持つすべての検索結果が検索結果表示ペインから破棄されるようになります。スパムの多くが表示されなくなるでしょう。
</p>

<h3><a name="search-entry">検索エントリーボックスはどこへ行ったのですか？</a></h3>
<p>
  <!-- FIXME: needs GTK2 version -->
  GTK1 版では検索はサイドバーにある <q><em>検索:</em></q> ボックスに入力します。
  GTK2 版では上部にあります。
</p>

<h3><a name="search-passive">「受動」検索って何ですか？</a></h3>
<p>
  <q><em>受動</em></q> 検索は gtk-gnutella を通過するすべての検索結果を返してきます。これらの検索結果を<a href="index.php?page=filtering_howto">条件検索</a>に掛けると受動検索は役に立つかもしれません。
</p>
<p>
  <a href="#general-ultrapeer">ウルトラ</a>モードにあるなら、あなた自身の検索に加えて、すでに多くの検索結果があなたのピアを通り過ぎています。あなたは余分な Gnet トラフィックを発生させることなく、これを検索に利用することができます。例えば 200 基の <a href="#general-ultrapeer">リーフピア</a>と接続している私のウルトラピアで、受動検索を開き名前 <q><em>linux</em></q> にヒットする検索結果のみを表示するようフィルターを設定したとします。一時間になるかならないかの内に約 1500 件ほどの検索結果を得ました。検索内容がより人気のあるものであればある程、より待てば待つ程、このテクニックが有益なものになる事は明らかです。
</p>
<p>
  リーフモードの場合、gtk-gnutella を通過していくことになる唯一の検索結果はあなた自身の検索になりますので、上記のテクニックは役に立たないでしょう。しかし、リーフモードでのみ役に立つ受動検索の使用法が別にあります。例えば、受動検索を開始してそのフィルターで mp3 ファイルのみを表示するようにすると、開いているすべての検索リスト/タブからのすべての mp3 ファイルが、便利にも一つの検索ウィンドウに集められるようになります。異なるフィルターを備えた受動検索をもっと開くことで、それぞれに違う種類のファイルを表示できるようになります。
</p>

<h3><a name="encoding">なぜ文字化けしている検索結果があるのですか？</a></h3>
<p>
  最近の Gnutella ネットワークにおけるファイル名の標準的なエンコーディング (エンコード方式) は UTF-8 です。全ての検索クエリーおよび検索結果はこれでエンコードされるべきです。残念なことですが、ファイル名や検索クエリーのような文字データを UTF-8 に変換せず、その代わりに任意の文字エンコード方式を使用する昔からのソフトウェアがまだ数多くあります。gtk-gnutella は使用されているエンコーディングを検出するよう試みますが、完全なものにはなり得ません。UTF-8 に変換できない文字がある場合は、下線 (アンダースコアー) で置き換えるかもしれません。
</p>

<h2>ダウンロード</h2>

<h3><a name="down0">「リクエストされた [SHA1|名前 &amp; サイズ] を無視します」というステータス文の意味は何ですか？</a></h3>
<p>
  これは gtk-gnutella のデータベースにそのファイルが完了したものとして記録されていることを意味します。このデータベースは通常 <code>~/.gtk-gnutella/done.sha1</code> および <code>~/.gtk-gnutella/done.namesize</code> にあります。今のところ GUI でこのデータベースにあるエントリーを削除したり変更したりする方法はありませんが、gtk-gnutella が走っていない時にこのファイルをテキストエディターで編集できます。これらのファイルに何か追加したり削除するには、他のエントリーと同じようにして下さい。
</p>

<h3><a name="down1">「サーバーに URN がありません」というステータス文の意味は何ですか？</a></h3>
<p>
  これは gtk-gnutella がホストから新しいファイルをダウンロードしようとしているのに、そのホストが当該ファイルの SHA1 ハッシュを提供しないことを意味します。(まだ部分的にもダウンロードされていない) 新しいファイルだと、ホストにあるファイルが本当に望むものであるかを検証するためのオーバーラップ・チェックができません。そのような場合は遠隔ホストが提供する SHA1 に頼ることになるのですが、もし SHA1 が与えられないとダウンロードしたいファイルおよび遠隔サーバーにあるファイルが実際に同じものであるかを保証する術がなくなってしまいます。<br>
  これらのメッセージにうんざりしているなら、<em>ファイル-&gt;環境設定-&gt;ダウンロード</em>の<em>最初のチャンクを大目に見る</em>を有効にすることができます。
</p>

<h3><a name="down2">なぜ同じファイルが何回もダウンロードされるのですか？</a></h3>
<p>
  <em>取得範囲</em>欄を確認して下さい。これは<a href="#down3">多元ダウンロード (Swarming)</a> と呼ばれるものです。可能であれば gtk-gnutella はファイルを<a href="#down4">チャンク</a>で取得しようと試み、同時並行的に複数のホストからダウンロードします。<!-- NEW: from-here -->ちなみに、取得範囲欄での表示形式は「リクエストしているサイズ @ 当該ファイルにおける位置 (オフセット)」になっています。<!-- NEW: end-here -->
</p>

<h3><a name="down3">「多元ダウンロード (Swarming)」って何ですか？</a></h3>
<p>
  多元ダウンロードを説明すると、それは一つのファイルを複数のホストから同時並行的にダウンロードすることです。gtk-gnutella は<a href="#down5">ダウンロードメッシュ</a>を利用しながら、また送られてきた結果を監視することで、待機状態になっているファイルのための新たな送信元を自動的に探すよう試みます。
</p>

<h3><a name="down4">「チャンク」って何ですか？</a></h3>
<p>
  <em>チャンク</em>は、言い換えると<em>ファイルの一部分</em>です。gtk-gnutella が <a href="#down3">多元ダウンロード (Swarming) モード</a>で動作している時には、ファイルを完全にダウンロードし終えるまでダウンロードするファイルの複数のチャンクを取得するようになります。<em>取得範囲</em>欄は現在どのチャンクをダウンロードしているかを表示します。
</p>

<h3><a name="down5">「ダウンロードメッシュ」って何ですか？</a></h3>
<p>
  ダウンロードメッシュをサポートするホストからファイルをダウンロードすると、(いずれかを知っている場合) 要求しているファイルのさらなる送信元を伝えてきます。これらはその後 <a href="#down3">多元ダウンロード (Swarming)</a> に使用されます。
</p>

<h3><a name="down_push">「PUSH リクエスト」って何ですか？</a></h3>
<p>
  <em>PUSH リクエスト</em>というのは (ファイアウォール内にあるために) 直接あなたが接続できないホストからのダウンロードを可能にする機能です。
  つまり、あなたはこれらのホストには接続できませんが、これらのホストからは多分あなたに接続できるのです。その遠隔ホストがあなたのホストに接続するよう伝えるために PUSH リクエストをそれに向けて送信します。こうすることであなたはその遠隔ホストからファイルをダウンロードできるようになります。<br>
  PUSH リクエストを利用しながらファイルをダウンロードしていて、そのファイルの検索結果を元々返してきたホストとのコンタクトを保てなくなると、<em>PUSH 経路</em>が失われてしまい、あなたはもうそのファイルをダウンロードできなくなります。従って PUSH 経路はかなり壊れやすいのです。ファイアウォールの内側にいる場合は (<a href="#gnet1">ポート転送</a>の項を御覧下さい) PUSH リクエストを利用することはできません。
</p>

<h3><a name="down7">なぜファイル名に .OK が付くのですか？</a></h3>
<p>
  多分あなたはダウンロードされるファイル、ダウンロード中および破損したファイルのために異なるフォルダを設定していませんね。
</p>

<h3><a name="down8">どうしてもダウンロードできないファイルがあります！</a></h3>
<p>
  ステータスバーにサングラスを掛けた黄色のスマイリーアイコンが表示されていないなら、これを変えるよう試みるべきでしょう。<a href="#gnet1">ファイアウォール</a> に関する部分を御覧下さい。
</p>
<p>
  そうではなく、gtk-gnutella がそのファイルに対してほんの少しの送信元しか表示しないなら (ダウンロード・ペインの「数」欄を御覧下さい)、これは二つの可能性があります:
</p>
<ul>
  <li>珍しいファイルである。</li>
  <li>
    そのファイルのバージョンの中で唯一つしかないものを選択してしまった。この場合もっと一般的なバージョンがあるかもしれません。例えば誰かが mp3 ファイルのタグ情報を変更したり、あるいは別の方法でファイルに変更を行うと、そのファイルは他に同じものがない唯一のファイルになる可能性があります。
  </li>
</ul>
<p>
  そのファイルを再び検索してみてより一般的な他のバージョンがあるかどうかを確認できます。通常「数」欄が表示するファイルの数がよい指標です。この数が多いほどそのファイルを素早く取得できる可能性が増します。
</p>

<h3><a name="down9">ダウンロードペインで、文字色が黒ではなく灰色になる場合は何を意味するんですか？</a></h3>
<p>
  これはファイルを <a href="#down_push">PUSH 経路</a>で受け取ったことを意味します。
</p>

<h3><a name="filenames">ファイル名エンコーディングって何ですか？</a></h3>
<p>
  gtk-gnutella はファイル名の標準のエンコード方式として UTF-8 を使用します。もしロケールの設定が UTF-8 を使用しないのでしたら、他のアプリケーションはこれらのファイル名を正しく表示しないか、最悪の場合、アクセスそのものに問題を抱えるかもしれません。環境変数 G_FILENAME_ENCODING を使用することで、このエンコード方式を変更することが可能です。これは GTK+ や GLib を利用する殆んどのアプリケーションに影響を及ぼします。<!-- NEW: from-here -->検索結果のファイル名エンコーディングは、<em>エンコード方式</em>欄で確認できます。検索結果のファイル内容 (コーデック等) とは関係がありませんので注意して下さい。<!-- NEW: end-here -->
</p>

<p>
  あなたのシステムが UTF-8 を使用しないのでしたら、
</p>

<p>
  <kbd>
   G_FILENAME_ENCODING="UTF-8,@locale,EUC-JP"
  </kbd>
  または
  <kbd>
  G_FILENAME_ENCODING="@locale,UTF-8,EUC-JP"
  </kbd>
</p>

<p>
  のどちらかを使用することを勧めます。
</p>

<p>
  リストにある最初の項目はファイルを保存するのに使用されるエンコード方式です。後に続く項目はディスクにある既に存在するファイル名に使用されます、これらのファイル名は Gnutella サーバントが表示したり情報交換を行うために gtk-gnutella 内部で UTF-8 に変換されます (ディスク上のファイル名が強制変換されてしまう訳ではありません)。西ヨーロッパにお住いでファイル名に非 ASCII 文字を含むファイルおよび ISO-8859-1 でエンコードされるファイルを共有するのでしたら、上のリストに ISO-8859-1 を加えるのが推奨されます。日本語ファイル名を使用するなら、恐らく上の設定で充分だと思います。その他の地域にお住いの方は、適切な他のエンコーディングを設定して下さい。
</p>

  <!-- Translators: Feel free to change the ISO-8859-1 example to whatever
       character set is likely used by the audience. !-->

<p>
  大半のケースにおいて、特殊な指定方法「@locale」がこれをカバーすると思います。これは現在お使いのロケールで使用されるエンコード方式を表し、ファイル名をエンコードするには丁度良いでしょう。上にあるように複数のファイル名エンコーディングを次候補としてリストできます。ファイル名を UTF-8 に変換する際には、その中から最初に成功したものが使用されることになります。このエンコーディングは並べられた順に試されて行き、変換不能な文字は下線 (アンダースコアー) で置き換えられます。これはつまり、もしあなたが西ヨーロッパにお住いで、殆んど全ての文字がアラビア語や日本語のファイルをダウンロードする場合、ASCII または ISO-8859-1 へのファイル名変換でほぼ、あるいは全ての情報がファイル名から削ぎ落とされてしまう事を意味します。ですから、あくまでも UTF-8 を使うのがベストなのです。
</p>

<p>
  フロントエンドとして GTK+ 1.2 または GTK+ 2.x を使用しているかどうかに関わらず、gtk-gnutella はバージョン 0.96 以降 G_FILENAME_ENCODING をサポートします。
</p>

<h2>アップロード</h2>

<h3><a name="up0">「正規値」って何ですか？</a></h3>
<p>
  これはあるファイルに対してアップロードされた合計バイト数をそのファイルのサイズで割った値です。
</p>

<h2>GTK+ 2.x</h2>

<h3><a name="gtk2_slow">GTK2 版の gtk-gnutella がとても遅いんですが。</a></h3>
<p>
  GTK+ 2.x には複雑かつ強力なフォント描画機能が備わっていますし、将来のバージョンはより最適化されるという期待もあります。この性能に耐えられないのであれば、代わりに GTK+ 1.2 を使用することを考慮した方がよいでしょう。しかしながら、ウィンドウをできるだけ小さくしたり、ただペインを切替えるだけでしたら、体感速度はたいして変わりません。
</p>


<!-- end faq -->
<!-- vi: set et ts=2 sw=2: -->
